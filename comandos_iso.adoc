= Comandos ISO

* *pwd:* En qu√© directorio estamos posicionados.
* *clear:* Limpia pantalla.
* *exit:* Salir de la terminal.
* *history:* muestra el historial de comandos.
** *history -c:* borra el historial de comandos.


* *id:* Toda la informaci√≥n sobre nuestra cuenta: grupos, nombres y n√∫meros.

[EXAMPLE]
====
usuario=n√∫mero_de_grupo(nombre_de_grupo)
====

* *id -nu:* Nombre de usuario; el par√°metro (los par√°metros van con gui√≥n) nu es "name user", y puede ir en diferente orden *-un*.

* *id -u:* N√∫mero de usuario.

* *id -g:* N√∫mero de grupo principal.

* *id -gn:* Nombre del grupo principal.

* *groups:* Nos muestra todos los grupos a los que pertenece el usuario actual.

* *uname:* muestra informaci√≥n sobre el sistema operativo. 

* *uname:* Nombre del sistema (Unix NAME). Se suele utilizar con par√°metros, es raro usarlo solo.
- *-n:* Nodo. Es el nombre del PC. 
- *-o:* Nombre completo del Sistema Operativo.
- *-p:* Procesador. Muestra la arquitectura del procesador, p.ej: x86_64.
- *-r:* Release; versi√≥n del kernell, n√∫cleo, del SO.
- *-a:* muestra todo (all). Muestra el nombre del kernell (Linux), el nombre del host, la versi√≥n del kernell, la arquitectura del hardware y la fecha y hora de compilaci√≥n del kernell.

image:assetsa/imgs/001_grafico.png[Gr√°fico 001]

* *date:* nos muestra la fecha/hora.
** *date | tee fichero.ext:*  mostrar√° la fecha y la hora actual en la pantalla y, al mismo tiempo, guardar√° esa informaci√≥n en un archivo llamado "fichero.ext".

* *bc:* Entras a la calculadora. 
- Ctrl+D (^D) para salir.

* *man:* Manual del sistema. Va seguido del comando del que quieres saber la ayuda.
- Por ejemplo, *man date:* Ayuda del comando date.

* *info:* Informaci√≥n. Se basa en el man, pero suele ser m√°s entendible. Es indistinto usar uno u otro, donde se encuentre mejor. Suele dar m√°s ejemplos el info.
Al igual que _man_, se usa seguido de un comando:
- Por ejemplo, *info date:*

[NOTE]
Para salir, tanto de _man_ como de _info_, hay que pulsar la _q_ de _quit_.

* *whatis [...]:* Nos dice para qu√© sirve un par√°metro, por ejemplo: *whatis pwd*.

* *echo [...]:* emite el mensaje que le pongas por pantalla.
___

* *ls:* (listar), nos muestra el contenido de donde estamos. Tiene una serie de colores (en Ubuntu al menos).
- *-a:* Nos muestra los ficheros y directorios, inclu√≠dos ocultos.
- *.:* Nos muestra lo del directorio actual, es lo mismo que no poner nada.
- *..:* Nos muestra lo que hay en el directorio padre.
- *-A:* lista los archivos y directorios en un directorio, excluyendo los directorios especiales " . " (punto) y " .. " (punto-punto). Estos dos directorios son referencias al directorio actual y al directorio padre, respectivamente, y se omiten en la salida cuando se utiliza ls -A. Muestra tambi√©n los ocultos. Vamos, resumiendo, muestra lo mismo que el *ls -a* pero sin las referencias al directorio padre y el directorio actual.
    

- *-l:* Listado largo, tiene la mayor√≠a de la informaci√≥n que estamos buscando: nombre, tama√±o de la carpeta, hora y fecha de creaci√≥n... Y el tipo de fichero que es (la d es de directorio, el . un fichero oculto, la _ un fichero ordinario...) y los permisos (rwx), qui√©n es el propietario del fichero y cu√°l es el grupo primario (el grupo que sale es el grupo principal que era en el momento de la creaci√≥n).

[NOTE]
    El CHAR al principio del directorio en el *ls -l* hace referencia al tipo de archivo:
        
        d ‚Üí directorio

        - ‚Üí fichero ordinario

        l ‚Üí link

        c ‚Üí CHAR

        b ‚Üíficheros por bloque

        p ‚Üí pipe

        s ‚Üí socket


- *-1:* La lista la quiero en una columna; no existe el -2 xD. Obviamente si lo combinas con -l no hace falta porque ya lo saca en una columna. Carece de sentido.
* *ls -d /ruta/al/directorio:* El comando mostrar√° el nombre del directorio _/ruta/al/directorio_ en lugar de listar los archivos y subdirectorios que contiene.
- *ls /:* En este caso nos muestra lo que hay en la ra√≠z del sistema; se puede poner otro sitio en vez de _/_, por ejemplo *ls /home -l*.
- *-M*:* Que liste todo lo que empiece por M. Si buscamos directorios hay que hacer el siguiente comando.
- *-d M*:* Especifica que buscas un directorio la _-d_. Con la -d te muestra tanto directorios como archivos, con 
- *ls -ld M\*:* > Musica.vacio: Te crea el directorio que le pones detr√°s del _>_
- *ls -ld \*ca*:* Que muestre lo que empiece como sea, que contenga ca, y que acabe como sea, como si no hay nada m√°s del _ca_.
- *ls -ld \*s > termina.s:* No lo mostrar√° por pantalla, porque le est√°s cambiando la salida al archivo que le mandas crear despu√©s del _>_.
- *ls -[DdEe]\*:* lista los elementos que empiecen con D, d, E o e. En el ejemplo se pone tanto min√∫scula como may√∫scula porque discrimina estas.
- ls -d [{CHAR}-{CHAR}]*: lista elementos que empiecen por los CHAR(S) dentro de un rango. Es sensible a may√∫sculas y min√∫sculas.
     
    ‚ñ™ Ejemplo: ls -d [A - E] ‚Üí Buscar√° todo lo que contenga desde una ‚ÄúA‚Äù hasta una ‚ÄúE‚Äù
    
    ‚ñ™ Ejemplo: ls -d [A - EI]* ‚Üí Buscar√° todo lo que acaba con una ‚ÄúA‚Äù hasta una ‚ÄúE‚Äù o acabe en una ‚ÄúI‚Äù

[NOTE]
Los par√°metros se pueden combinar; por ejemplo: *ls -la*

[NOTE]
La ruta y el par√°metro pueden ir uno delante del otro indistintamente: *ls .. -l* = *ls -l ..*

* *ls -ld \*[CHAR(S)-CHAR(S)]\*:* busca elementos que contengan caracteres de un rango determinado.
** Ejemplo: ls -ld *[0-9]*: busca elementos que contengan un caracter en el rango entre corchetes ambos inclusive ‚Üí lista todos los elementos que contengan 0, 1, 2, 3, 4, 5, 6, 7, 8 y/o 9, independientemente de donde est√©n los n√∫meros en el nombre del elemento.

    ‚Ä¢ ls -ld [*][.][?]: lista los elementos que despu√©s de un punto tengan determinado n√∫mero de caracteres, determinados por el n√∫mero de <?>.

    ‚Ä¢ ls -ld [!{CHAR(S)}]: lista los elementos que NO empiecen por determinado caracter.

    ‚Ä¢ ls -ld {CHAR(S)}?*: lista elementos que despu√©s del caracter contiene determinado n√∫mero de caracteres, determinados por el n√∫mero de <?>.
            ‚ñ™ Ejemplo: ls -ld *f*[0-9]*: lista los elementos que contengan un <f> y despu√©s, un n√∫mero de 0 a 9, ambos inclusive.

Para concatenar comandos, utilizaremos [;]
    ‚Ä¢ Por ejemplo: date; pwd; ls > informe.txt ejecuta los tres comandos juntos, seguidos y de manera independiente, pero solo redirige el √∫ltimo como salida a un fichero, y mostrando el resultado de todo
    ‚Ä¢ Ejemplo 2: (date; pwd; ls) > informe.txt ejecuta los tres comandos de forma simult√°nea y redirige la salida de los tres juntos a un fichero.
	
Redireccionamiento:
    ‚Ä¢ < redirecciona la entrada
    ‚Ä¢ > redirecciona la salida hacia un archivo, si este existe, lo sobreescribir√°, si no existe, lo crear√°.
    ‚Ä¢ >> redirecciona la salida, pero no sobreescribir√° el archivo existente, sino que se a√±adir√° al fichero al final. En caso de no existir el fichero, lo crear√°.
La mayor√≠a de estos se usan para editar ficheros con cat
 
Comando tee:
    ‚Ä¢ redirecciona la salida a un fichero y luego lo muestra por pantalla
        ‚ó¶ tee - a fichero.extensi√≥n: redirecciona la salida, muestra por pantalla y a√±ade contenido al fichero
            ‚ñ™ Ejemplo: date | tee -a informe.txt crea el informe.txt y le a√±ade informaci√≥n resultante del comando date

    ‚Ä¢ ls -r: hace un listado en orden alfab√©tico inverso (Z-A)

    ‚Ä¢ ls -lR <directorio>: ver todo el directorio y su contenido 	
        ‚ó¶ R (de üîÅ recursividad) 
    ‚Ä¢ ls -R : Registra todos los directorios de la ra√≠z. Los ordena en orden alfab√©tico
        ‚ó¶ 2> /dev/null: redirige la salida y descarta aquellos a los que no puede acceder, consider√°ndolos como errores y la salida va a /dev/null, es decir, la ‚Äúpapelera‚Äù
        ‚ó¶ ls -lR / 2> /dev/null: hace un listado recursivo del directorio ra√≠z (root), e indica que en caso de error, redirige a una salida
    ‚Ä¢ ls -id: muestra el inodo de un elemento
        ‚ó¶ para listar el inodo de los elementos dentro de un directorio, utilizamos los comodines
            ‚ñ™ ejemplo: ls -id *

El inodo o i-nodo es un identificador √∫nico de un archivo o directorio, y es irrepetible. La √∫nica manera de que se repita es utilizando un enlace

Visualizar
    ‚Ä¢ cat + {nombre.fichero}: visualiza contenidos de un fichero (solo muestra el contenido)
        ‚ó¶ para crear un fichero, de manera interactiva, redireccionamos la salida del comando a un nuevo	fichero
            ‚ñ™ Ejemplo: cat > ejemplo.txt ‚Üí Despu√©s Ctrl + D para terminar
    ‚Ä¢ cat -n: enumera las l√≠neas de un fichero
            ‚ñ™ Si nuestro fichero contiene los n√∫meros rojo, azul y blanco uno en cada l√≠nea, visualizamos 1	rojo, etc‚Ä¶
        ‚ó¶ cat {fichero1} {fichero2} >> {fichero3}: une dos ficheros, uno a√±adido al final del otro

    ‚Ä¢ tac: visualizar un fichero en orden inverso.
            ‚ñ™ Si nuestro fichero contiene los n√∫meros 1, 2 y 3, uno en cada l√≠nea, visualizamos 3, 2 y 1.

    ‚Ä¢ history: muestra un historial de los comandos utilizados hasta el momento
        ‚ó¶ history -c: elimina todas las entradas del historial
        ‚ó¶ history {NUMERO}: muestra los √∫ltimos comandos del historial, el n√∫mero de entradas es el establecido por el {NUMERO}
            ‚ñ™ Ejemplo: history 10: muestra los 10 √∫ltimos comandos utilizados

    ‚Ä¢ !{N√öMERO}: vuelve a realizar el comando con este n√∫mero en el historial (comando history)

    ‚Ä¢ more: permite visualizar un fichero como listado largo, permitiendo saltar l√≠neas o p√°ginas enteras.

    ‚Ä¢ more +{NUMERO} fichero.extensi√≥n: muestra el fichero a partir de determinada l√≠nea en adelante
            ‚ñ™ el n√∫mero de l√≠neas que va a ‚Äúsaltar‚Äù se define sustituyendo el {NUMERO}.

    ‚Ä¢ <comando> | more: para paginar un listado.
            ‚ñ™ Ejemplo: history | more: muestra el listado del historial de comandos en forma paginada.
        ‚ó¶ Al pulsar [intro] vamos a una l√≠nea m√°s abajo y  al pulsar [espacio] nos movemos una p√°gina entera, Para salir pulsamos [Q]

    ‚Ä¢ less: permite visualizar un fichero paginado pudiendo ir hacia delante o hacia atr√°s en las p√°ginas.

    ‚Ä¢ <comando> | less: para paginar un listado. Permite movernos hacia atr√°s.

* *cat nombre.fichero:* Visualizamos el contenido de un fichero ordinario.
* *cat > nombre.fichero:* Crear un fichero de forma interactiva; le vas a poner datos y los va guardando en el fichero; cuando quieras acabar, Ctrl+D.

[NOTE]
AQU√ç FALTAN LOS COMANDOS DEL JUEVES Y VIERNES √öLTIMOS DE SEPTIEMBRE.


* *ls -l d-uno:* mostrar el contendio del directorio d_uno-
* *ls -l d_uno/d_dos:* mostrar el contenido de d_dos.

* *ls -R / 2>/dev/null:* QUe haga un listado recursivo desde la ra√≠z (/)el 1 es para que muestre por pantalla, no es necesario porque lo pone por defecto. Pero el 2 es de error, y lo de null es papelera, para que se deshaga del error y lo mande a la papelera. Buscar mejor este comando porque est√° explicado raro aqu√≠. Si quiero hacer un listado recursivo a partir del directorio actual, vale con no ponerle nada, o sino: *ls -R . 2>/dev/null*; y si quieres desde la ra√≠z *ls -R / 2>/dev/null*

Va entrando en todos los subdirectorios desde la ra√≠z y dici√©ndote qu√© hay en cada uno.


* *ls -r:* la r min√∫scula es de reverse, y va a ir de la Z a la A. 


[NOTE]
No confundir -R con -r, la primera es recursividad, la segunda es reverse, de la A a la Z-


* *rmdir d_tres:* Borra el directorio d3 pero tiene que estar vac√≠o. Dar√° fallo si tiene contenido.

* *rm -r d_uno:* elimina el directorio aunque tenga contenido. Aqu√≠ la -r es remove, no reverse. 

* *cat -n colores.txt:* el - n enumera las l√≠neas del archivo.


* *more colores.txt:* nos permite ver un fichero por dentro a partir de cierta l√≠nea; por ejemplo, *more +3* muestra a partir de la l√≠nea 3, esta inclu√≠da.

* *less colores.txt:* probarlo, va igual que el more pero al rev√©s o algo as√≠.

* *ls -1 / | more +3:* vemos el listado a partir de la l√≠nea 3.

* *cp colores.txt color.txt:* copiar un archivo _colores.txt_ y guardarlo con el nombre _color.txt_.

* *cp colores.txt cinco/:* que haga una copiar de colores.txt en el directorio cinco/ (cp origen destino); la "/" es opcional, va a entender que es un directorio aunque no se la pongas

* *mv colores.txt lista.color.txt:* renombrar el archivo colores.txt a lista.color.txt. Con mover no generas nada, simplemente cambias el nombre del fichero. *mv* tambi√©n renombra directorios: *mv seis dire:*

* *mv planetas.txt dire/:* mv tambi√©n sirve para mover, aqu√≠ est√° moviendo el archivo planetas.txt al directorio dire/.

* *mv color.txt siete/color.siete.txt:* no solo lo mueve, sino que lo renombra a la vez.

* *mv *.txt ..:* cuando usemos comodines como mover todo lo que termine en .txt, puede dar problemas, sobre todo si en vez de en el origen como en el ejemplo, usamos el comod√≠n en el destino. Verificar siempre con _ls_. Por ejemplo, si quiero coger todos los ficheros .txt y renombrarlos a .doc (*mv *.txt *.doc*) nos va a dar error, se piensa que *.doc es un directorio

* *cp ~{c1.txt,c2.txt,lscolor.txt} .:* le estamos pidiendo que con una ruta absoluta vaya a homre, y coja los tres ficheros que hay entre llaves y los copie aqu√≠ (.) OJO NO PONER ESPACIOS DESPU√âS DE LAS COMAS.


* *cp ../c1.txt ../c2.txt ../COLOR.txt ocho/:* es lo mismo, que copie los fichero del directorio padre (vamos, realmente el archivo est√° en el directorio donde estamos xd) y los copie a ocho/. Las rutas de origen pueden ser todas las que quieras, la que tenga cada archivo que quieres copiar, pero el destino tiene que ser el mismo para todos, solo puede ser uno.

* *touch:* crea fichero vac√≠o; puede crear varios a la vez: *touch iso.txt fol.txt bases.txt*; si quiero crearlos en diferentes rutas, se especifica en cada fichero: *touch ../xbd.txt /../apuntes/fundamentos.adoc*.


* *mkdir -p facturacion/compras/{C_2020, C_2021}*: sin la _-p_ dar√≠a error, porque es la que especifica que primero cree el directorio padre que ya y luego entre llaves pones los directorios hijos que son los que crea.


* *touch facturacion/compras/C_2020/{ene_2020.txt,feb_2020.txt,mazo_2020.txt}:* crear tres archivo a la vez en un directorio (destino{ficheros}); ojo a no poner espacio despu√©s de las comas.













